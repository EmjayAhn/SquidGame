# 01 데이터 정제

## 1. 데이터 이해

### 1) 데이터 관련 정의

- 데이터(Data): 이론을 세우는 기초가 되는 사실 또는 자료. 컴퓨터와 연관되어 프로그램을 운용할 수 있는 형태로 기호화/수치화된 자료.
- 단위(Unit): 관찰되는 항목 또는 대상
- 관측값(Observation): 각 조사단위별 기록정보 또는 특성
- 변수(Variable): 각 단위에서 측정된 특성
- 원자료(Raw Data): 표본에서 조사된 최초의 자료



### 2) 데이터의 종류

- 단변량 자료(Univariate Data): 자료의 특성을 대표하는 특성변수가 하나인 자료
- 다변량 자료(Multivariate Data): 자료의 특성을 대표하는 특성변수가 둘 이상인 자료
- 질적 자료(Qualitative Data): 정성적 또는 범주형 자료
  - 명목 자료(Nominal Data): 수치 또는 기호로 분류되는 자료 (ex. 지역번호)
  - 서열 자료(Ordinal Data): 명목자료와 비슷하지만 수치나 기호가 서열을 나타내는 자료 (ex. 랭킹)
- 수치 자료(Quantitative Data): 정량적 또는 연속형 자료 
  - 구간 자료(Interval Data): 명목자료, 서열자료의 의미를 포함하면서 숫자로 표현된 변수간의 관계가 산술적인 의미를 갖는 자료 (ex. 온도)
  - 비율 자료(Ratio Data): 명목자료, 서열자료, 구간자료의 의미를 다 가지면서 수치화된 변수에 비율의 개념을 도입할 수 있는 자료 (ex. 무게)

- 시계열 자료(Time Series Data): 일정한 시간동안 수집된, 시간개념이 포함된 자료 (ex. 일별 주가)
- 횡적 자료(Cross Sectional Data): 특정 단일시점에서 여러 대상으로부터 수집된 자료
- 종적 자료(Longtitudinal Data): 시계열자료와 횡적자료의 결합으로, 여러 개체를 여러 시점에서 수집한 자료

> 자료 특성에 따라 자료로부터 결과를 도출하기 위한 방법론이 달라지기 때문에 다양한 종류의 데이터를 파악하는 것이 매우 중요하다.



### 3) 데이터의 정제

수집된 데이터를 분석에 용이하도록 추출, 통합하고 각 분석 기법에 맞게 다듬는 과정이다.

정제과정을 거치지 않은 데이터를 사용하면 데이터 구성의 일관석이 없어져 분석의 처리에 어려움이 발생할 수 있고, 도출된 결과의 신뢰성도 저하된다.

- 데이터 정제 과정(Processing)

  - 다양한 매체로부터 데이터를 **수집**, 원하는 형태로 **변환**, 원하는 장소에 **저장**, 저장된 데이터의 **품질확인**, 필요한 시기와 목적에 따라 데이터를 원활히 사용할 수 있도록 **관리**하는 과정이 필요하다.
  - 데이터를 처음 수집하면 정형보다 비정형 데이터(Unstructured Data)인 경우가 많다. 이를 구조화된 정형 데이터(Structured Data)로 변환하고, 변환된 데이터에서 결측치나 오류 등을 해결하는 과정을 거친다.
  - 기존에 수집했던 데이터와 비교분석이 필요한 경우 레거시(Legacy Data)와의 통합, 변환과정이 필요할 수 있다.

  | 구분            | 수행내용                                                     | 프로세스                   |
  | --------------- | ------------------------------------------------------------ | -------------------------- |
  | 데이터 **수집** | - 데이터의 수집방법 및 정책 결정<br />- 데이터 수집경로 구조화<br />- 데이터 집계(Aggregation)<br />- 데이터 저장소 결정 | 전처리(preprocessing) 포함 |
  | 데이터 **변환** | - 데이터 유형의 변화 및 분석가능한 형태로 가공<br />- ETL(Extraction, Transformation, Loading)<br />- 일반화(Generalization)<br />- 정규화(Normalization) |                            |
  | 데이터 **교정** | - 결측치, 이상치(Outlier), 노이즈 처리<br />- 비정형데이터 수집시 필수 |                            |
  | 데이터 **통합** | - 데이터분석이 용이하도록 기존 또는 유사데이터와의 연계 통합<br />- 레거시 데이터(Legacy Data)와 함께 분석이 필요할 경우 수행 |                            |

  

- 데이터 정제의 전처리, 후처리
  - 전처리(Pre Processing): 데이터 저장 전의 처리과정으로, 대상 데이터와 수집방식 결정 및 저장소를 선정
  - 후처리(Post Processing): 데이터 저장 후의 처리과정으로 저장데이터의 품질관리 등의 과정을 포함



## 2. 데이터 결측값 처리

결측값(Missing Data)이란 데이터가 없음을 의미한다.

결측치를 임의로 제거할 경우 분석데이터가 손실되어 분석에 필요한 수준의 데이터 수집에 실패할 수 있다.

결측치를 임의로 대체할 경우 데이터의 편향(bias)이 발생하여 분석결과의 신뢰성이 떨어진다.

결측치 처리는 데이터에 기반한 다양한 방법으로 처리할 수 있다.

### 1) 결측데이터의 종류

- 완전 무작위 결측(MCAR: Missing Completely At Random): 결측데이터가 다른변수와 아무런 연관이 없는 경우

- 무작위 결측(MAR: Missing At Random): 결측데이터가 다른 변수와 연관되어있지만 그 결측된 변수 자체와는 관련이 없는 경우

- 비무작위결측(NMAR: Not Missing At Random): MCAR 또는 MAR이 아닌 결측데이터로, 결측값이 결측여부(이유)와 관련이 있는 경우

  

  예시)

  - 나이, 성별, 체중 변수에 대한 데이터 수집을 가정할 때,
    - 세 변수와 관계없이 무응답 등으로 데이터가 단순 누락된 경우 -> 완전 무작위 결측(MCAR)
    - 여성은 체중공개를 꺼리는 경우가 많아 체중 데이터가 누락될 가능성이 성별 변수에 의존 -> 무작위 결측(MAR)
    - 체중이 많이 나가는 사람들은 체중공개를 꺼려 체중 데이터가 누락될 가능성이 체중 변수 자체에 의존 -> 비무작위 결측(NMAR)

