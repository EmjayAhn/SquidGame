# 02 고급 데이터 탐색

## 1. 시공간 데이터 탐색

### 1) 시공간 데이터의 개념

**공간적 정보에 시간의 흐름이 결합된 다차원 데이터**를 의미함.

#### (1) 시간 데이터

- **유효 시간**: 데이터가 발생하거나 소멸된 시간
- **거래 시간**: 관리시스템을 통해 처리된 시간
- **사용자 정의 시간**: 유효 시간이나 거래 시간이 없는 경우 사용자가 정의한 시간
- **스냅샷 데이터**: 시간개념이 필요하지 않아서 거래/유효시간 미지원
- **거래시간 데이터 / 유효시간 데이터**: 각각 거래시간, 유효시간만 지원
- 이원 시간 데이터: 거래시간, 유효시간 모두를 지원

<br>

#### (2) 공간 데이터

- **비공간 타입**: 기본적인 데이터 유형을 가진 속성
- **래스터 공간 타입**: 실세계에 존재하는 객체의 이미지 (그리드에서 픽셀로 표현됨)
- **벡터 공간 타입**: 점, 선, 면 등의 요소로 구성
- **기하학적 타입**: 벡터 타입의 요소로부터 거리, 면적, 길이 등과 같은 유클리드 기하학 계산 값으로 표현
- **위상적 타입**: 공간 객체 간의 관계. 방위, 공간객체간의 중첩, 포함, 교차, 분리 등과 같은 위치적 관계로, 보통 처리 시 대량의 공간을 필요로 하기 때문에 따로 저장되지 않고 필요 시에 공간객체로부터 동적으로 계산한다.

<br>

#### (3) 공간 데이터 모델

- **관계형 모델**: 데이터의 표현이 유연하지 못하며 실세계 공간의 객체 특징을 적절히 표현하지 못하는 문제점이 있음.
- **객체지향 모델**
  - 비구조적이고 복잡한 데이터를 잘 표현한다
  - 데이터 계층 구조를 이용한 연산이 쉽다
  - 새로운 함수 확장이 쉽다
  - 데이터 무결성 검사가 쉽다
  - 설계 단계와 구현단계 모델 사이의 불일치 문제를 줄인다

<br>

#### (4) 시공간 데이터

시간 데이터와 공간 데이터의 결합 형태. 

> 기본적으로 위치, 영역 등의 공간 정보는 시간의 흐름에 다라 변화하므로 실제 객체들은 공간적 정보와 시간적 정보 모두와 연관이 있다.



<br>

### 2) 시공간 데이터 분석

#### (1) 시공간 데이터에 대한 질의어

시공간자료는 정의언어와 조작언어로 구분한다.

- 시공간자료 **정의언어**: 시공간 테이블 인덱스 및 뷰의 정의문, 변경문 등. 공간적 속성과 시간적 속성을 동시에 포함하며 점, 선, 면 등의 공간속성 타입이 추가되어 있다.
- 시공간자료 **조작언어**: 객체의 삽입, 삭제, 변경 등의 검색문. 시간지원 연산자와 공간 연산자를 포함하여, 이를 통해 객체에 대한 공간관리와 이력정보를 제공함.

#### (2) 시공간 데이터의 연산

- **시공간위상 관계연산**

  두 객체 간 시공간영역상의 관계에 대해 참/거짓을 반환하는 연산. 

  대표적으로 교차(intersection) 연산자는 공간관계의 경우 선과 선의 교차, 선과 면의 교차 여부를 반환하며, 시간관계의 경우 두 객체의 유효시간 정보를 기반으로 선후관계를 평가하여 참/거짓을 반환한다.

- **시공간기하 연산**

  공간기하 연산자 + 시간구성 연산자 결합으로 표현. 두 객체간의 거리(distance) 연산을 지칭한다.

#### (3) 적용 및 응용분야

시공간 데이터 기술은 지리정보시스템, 위치기반 서비스, 차량 위치추적 서비스 등에 활용된다.

<br>

<br>

## 2. 다변량 데이터 탐색

다변량 데이터 탐색은 기본적으로 변수들간 인과관계의 규명과 분석을 하는 것이다.

변수들 간의 상관관계를 이용하여 변수를 축약하거나, 개체들을 분류하고 관련된 분석방법들을 동원해 분석하는 것.

<br>

### 1) 종속변수와 독립변수 사이의 인과 관계

#### (1) 다중회귀(Multiple Regression)

**독립변수가 2개 이상인 회귀모형**을 지칭하며, <u>각 독립변수는 종속변수와 선형관계에 있음을 가정</u>한다.

- 장점

  - 변수를 추가하여 분석내용의 질적 향상을 도모할 수 있다. (단순회귀분석의 단점 극복)
  - 독립변수가 여럿일 때 단순회귀모형을 선택하면 변수가 누락됨으로써 계수 추정량에 대한 bias가 야기되는데 이를 제거할 수 있다.

- 일반 형식

  - k개의 독립변수가 종속변수 Y를 설명한다.
    $$
    Y = \alpha_1 X_1 + \alpha_2 X_2 + \cdots + \alpha_k X_k + \beta + \epsilon_k
    $$
    추정해야 할 모수는 $\alpha_i$ k개(기울기), $\beta$(절편) 까지 총 k + 1개이다.

    <br>

- 기본 가정

  - 회귀모형은 모수에 대해 선형인 모형이다.
  - 오차항의 평균은 0이다.
  - 오차항의 분산은 모든 관찰치에 대해 $\sigma^2$ 의 일정한 분산을 갖는다.
  - 각 오차항은 서로 독립이며 공분산은 0이다.
  - 각 독립변수 역시 서로 독립니다.
  - 오차항은 정규분포를 따르며 $N(0, \sigma^2)$ 이다.

  <br>

- 분석 방법

  최소자승법을 이용해 결과를 도출할 수 있다.

<br>

#### (2) 로지스틱 회귀(Logistic Regression)

종속변수가 이항형일 때 사용된다.

- 특징

  - 선형모델과의 차이점

    - 이항형인 데이터에 적용하였을 때 y의 결과가 범위 [0,1]로 제한된다.
    - 종속변수가 이진적이기 때문에 조건부 확률 $P(y|x)$​​ 의 분포가 정규분포가 아닌 이항분포를 따른다.

    $$
    G(x) = \frac{e^x}{1 + e^x} ~~ : \text{로지스틱 모형 함수(시그모이드 함수)}
    $$

  - 종속변수의 형태는 연속변수 또는 이산변수로 구분된다. 

<br>

#### (3) 분산분석(ANOVA: Analysis of Variance)

3개 이상의 표본 집단 간의 차이를 <u>표본평균 간의 분산과 표본 내의 관측치 간 분산을 비교</u>하여 가설을 검정하는 것이다. 

- **일원분산분석(One-Way ANOVA)**

  하나의 인자에 근거하여 여러 수준으로 나누어지는 분석

  - 단일 독립변수에 의해 종속변수의 평균치에 발생하는 차이를 검정하는데 이용한다.
  - 종속변수와 정수값을 갖는 요인변수가 하나씩 정의되어야 한다.

  ex) 3개 학급(A, B, C) 간 성적의 평균 차이, 지역에 따른 자사 매출액 평균의 차이

  <br>

#### (4)다변량 분산분석(Multi Variate ANOVA)

측정형 변수, 종속변수가 2개 이상인 분산분석.

- **이원분산분석(Two-Way ANOVA)**

  둘 이상의 인자에 근거하여 여러 수준으로 나누어지는 분석

  - 독립변수의 수가 두개.
  - 한 변수에 따른 종속변수의 영향이 아니라, 두 개 이상의 변수 (ex. 성별, 연령)에 따른 종속변수(ex. 직무만족도)의 차이를 알아보고자 한다면 이원분산분석을 시행한다.